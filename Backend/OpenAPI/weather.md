# 기상청 날씨 예보 API

[TOC]

# 중기예보

https://www.data.go.kr/tcs/dss/selectApiDataDetailView.do?publicDataPk=15059468

- 조회 일 기준 3일후 ~ 10일까지 날씨를 조회 할 수 있음
- 지자체 시 기준으로 조회 가능해서 당일 조회는 단기예보조회를 사용해야함
- 전망조회
  - 텍스트로 한주간 날씨 전망을 보여줌
- 육상예보조회
  - 요청 api 주소
    - http://apis.data.go.kr/1360000/MidFcstInfoService/getMidLandFcst
  - request parameter
    - ServiceKey
    - pageNo
    - numOfRows
    - stnId
      - 지점번호
      - 108 전국, 109 서울, 인천, 경기도 등
    - tmFC
      - 일 2회(06:00,18:00)회 생성 되며 발표시각을 입력 YYYYMMDD0600 (1800)-최근 24시간 자료만 제공



- 중기기온조회
  - 요청 api 주소
    - http://apis.data.go.kr/1360000/MidFcstInfoService/getMidTa
  - 날짜별 최고, 최저 기온 및 하한 및 상한 범우
  - request Parameter
    - ServiceKey
    - pageNo
    - numOfRows
    - dataType 
      - 요청자료형식(XML/JSON)Default: XML
    -  regId
      - 11B10101 서울, 11B20201 인천 등 
    -  tmFc
      - -일 2회(06:00,18:00)회 생성 되며 발표시각을 입력- YYYYMMDD0600(1800) 최근 24시간 자료만 제공

| **예보구역코드** | **구역**             |
| ---------------- | -------------------- |
| 11B00000         | 서울, 인천, 경기도   |
| 11D10000         | 강원도영서           |
| 11D20000         | 강원도영동           |
| 11C20000         | 대전, 세종, 충청남도 |
| 11C10000         | 충청북도             |
| 11F20000         | 광주, 전라남도       |
| 11F10000         | 전라북도             |
| 11H10000         | 대구, 경상북도       |
| 11H20000         | 부산, 울산, 경상남도 |
| 11G00000         | 제주도               |



# 단기 예보(구 동네예보)

https://www.data.go.kr/tcs/dss/selectApiDataDetailView.do?publicDataPk=15084084

### 초단기실황

- 실황정보를 조회하기 위해 발표일자, 발표시각, 예보지점 X 좌표, 예보지점 Y 좌표의 조회 조건으로 자료구분코드, 실황값, 발표일자, 발표시각, 예보지점 X 좌표, 예보지점 Y 좌표의 정보를 조회하는 기능

- 요청 API

  - http://apis.data.go.kr/1360000/VilageFcstInfoService_2.0/getUltraSrtNcst

- 매정시마다 발쵸,매시각 40분 이후 호출 가능

- Request Parameter

  - Servicekey
  - pageNo
  - numOfRows
  - dataType
  - base_date
  - base_time
  - nx
  - ny

- resp

  - | T1H  | 기온         | ℃              |
    | ---- | ------------ | -------------- |
    | RN1  | 1시간 강수량 | 범주 (1 mm)    |
    | SKY  | 하늘상태     | 코드값         |
    | UUU  | 동서바람성분 | m/s            |
    | VVV  | 남북바람성분 | m/s            |
    | REH  | 습도         | %              |
    | PTY  | 강수형태     | 코드값         |
    | LGT  | 낙뢰         | kA(킬로암페어) |
    | VEC  | 풍향         | deg            |
    | WSD  | 풍속         | m/s            |



### 초단기예보조회

- 초단기예보정보를 조회하기 위해 발표일자, 발표시각, 예보지점 X 좌표, 예보지점 Y 좌표의 조회 조건으로 자료구분코드, 예보값, 발표일자, 발표시각, 예보지점 X 좌표, 예보지점 Y 좌표의 정보를 조회하는 기능

- 30분 마다 발표 - 매시각 45분 이후 호출 가능

- base_time 기준 1시간마다 6개 예상 값 호출됨..(06:30 호출 → 7~12시 6타임 호출)

- 요청 api

  - http://apis.data.go.kr/1360000/VilageFcstInfoService_2.0/getUltraSrtNcst

- Request Parameter

  - 초단기실황 과 동일

- Resp

  - | T1H  | 기온         | ℃              |
    | ---- | ------------ | -------------- |
    | RN1  | 1시간 강수량 | 범주 (1 mm)    |
    | SKY  | 하늘상태     | 코드값         |
    | UUU  | 동서바람성분 | m/s            |
    | VVV  | 남북바람성분 | m/s            |
    | REH  | 습도         | %              |
    | PTY  | 강수형태     | 코드값         |
    | LGT  | 낙뢰         | kA(킬로암페어) |
    | VEC  | 풍향         | deg            |
    | WSD  | 풍속         | m/s            |



### 단기예보조회

- 단기예보 정보를 조회하기 위해 발표일자, 발표시각, 예보지점 X좌표, 예보지점 Y 좌표의 조회 조건으로 발표일자, 발표시각, 자료구분문자, 예보 값, 예보일자, 예보시각, 예보지점 X 좌표, 예보지점 Y 좌표의 정보를 조회하는 기능

- 매일 05시 발표, 06:00 ~ 24:00시 까지 3일후 까지 데이터 발표

- 당일 조회시 `일 최저기온(TMN)` 을 제공하지 않아 당일 최저기온은 06:00시 최초 제공 온도를 대체하여 사용해야 할 듯...

- 요청 api

  - http://apis.data.go.kr/1360000/VilageFcstInfoService_2.0/getVilageFcst

- Resp

  - | POP  | 강수확률       | %           | 8    |
    | ---- | -------------- | ----------- | ---- |
    | PTY  | 강수형태       | 코드값      | 4    |
    | PCP  | 1시간 강수량   | 범주 (1 mm) | 8    |
    | REH  | 습도           | %           | 8    |
    | SNO  | 1시간 신적설   | 범주(1 cm)  | 8    |
    | SKY  | 하늘상태       | 코드값      | 4    |
    | TMP  | 1시간 기온     | ℃           | 10   |
    | TMN  | 일 최저기온    | ℃           | 10   |
    | TMX  | 일 최고기온    | ℃           | 10   |
    | UUU  | 풍속(동서성분) | m/s         | 12   |
    | VVV  | 풍속(남북성분) | m/s         | 12   |
    | WAV  | 파고           | M           | 8    |
    | VEC  | 풍향           | deg         | 10   |
    | WSD  | 풍속           | m/s         | 10   |



##### 단기예보 날씨 코드

```
  SKY = {1:'맑음', 2:'구름조금',3:'구름많음',4:'흐림'}                                           # 기상청 하늘 상태코드
  PTY = {0:'없음', 1:'비', 2:'비/눈',3:'눈',4:'소나기',4:'빗방울',6:'빗방울/눈날림',7:'눈날림'}  	# 기상청 강수상태코드
```





## 기상청_지상(종관, ASOS) 일자료 조회서비스



### 기상관측일자료목록조회

- 요청 api

  - http://apis.data.go.kr/1360000/AsosDalyInfoService/getWthrDataList

- 요청 변수

  - |   항목명(국문)    | 항목명(영문) | 항목크기 | 항목구분 | 샘플데이터 |                      항목설명                      |
    | :---------------: | :----------: | :------: | :------: | :--------: | :------------------------------------------------: |
    |     서비스키      |  ServiceKey  |    4     |   필수   |     -      |           공공데이터포털에서 받은 인증키           |
    |    페이지 번호    |    pageNo    |    4     |   옵션   |     1      |               페이지번호 Default : 1               |
    | 한 페이지 결과 수 |  numOfRows   |    4     |   옵션   |     10     |           한 페이지 결과 수 Default : 10           |
    |   응답자료형식    |   dataType   |    4     |   옵션   |    XML     |        요청자료형식(XML/JSON) Default : XML        |
    |     자료 코드     |    dataCd    |    4     |   필수   |    ASOS    |                자료 분류 코드(ASOS)                |
    |     날짜 코드     |    dateCd    |    3     |   필수   |    DAY     |                날짜 분류 코드(DAY)                 |
    |      시작일       |   startDt    |    8     |   필수   |  20100101  |             조회 기간 시작일(YYYYMMDD)             |
    |      종료일       |    endDt     |    8     |   필수   |  20100601  |  조회 기간 종료일(YYYYMMDD) (전일(D-1)까지 제공)   |
    |     지점 번호     |    stnIds    |    3     |   필수   |    108     | 종관기상관측 지점 번호 (활용가이드 하단 첨부 참조) |

| **지점** | **지점명** | **관리관서**   | **지점** | **지점명** | **관리관서**   |
| -------- | ---------- | -------------- | -------- | ---------- | -------------- |
| 90       | 속초       | 강원지방기상청 | 212      | 홍천       | 춘천기상대     |
| 93       | 북춘천     | 춘천기상대     | 216      | 태백       | 강원지방기상청 |
| 95       | 철원       | 강원지방기상청 | 217      | 정선군     | 강원지방기상청 |
| 98       | 동두천     | 수도권기상청   | 221      | 제천       | 청주기상지청   |
| 99       | 파주       | 수도권기상청   | 226      | 보은       | 청주기상지청   |
| 100      | 대관령     | 강원지방기상청 | 232      | 천안       | 대전지방기상청 |
| 101      | 춘천       | 춘천기상대     | 235      | 보령       | 대전지방기상청 |
| 102      | 백령도     | 수도권기상청   | 236      | 부여       | 대전지방기상청 |
| 104      | 북강릉     | 강원지방기상청 | 238      | 금산       | 대전지방기상청 |
| 105      | 강릉       | 강원지방기상청 | 239      | 세종       | 대전지방기상청 |
| 106      | 동해       | 강원지방기상청 | 243      | 부안       | 전주기상지청   |
| 108      | 서울       | 수도권기상청   | 244      | 임실       | 전주기상지청   |
| 112      | 인천       | 수도권기상청   | 245      | 정읍       | 전주기상지청   |
| 114      | 원주       | 강원지방기상청 | 247      | 남원       | 전주기상지청   |
| 115      | 울릉도     | 대구지방기상청 | 248      | 장수       | 전주기상지청   |
| 119      | 수원       | 수도권기상청   | 251      | 고창군     | 전주기상지청   |
| 121      | 영월       | 강원지방기상청 | 252      | 영광군     | 광주지방기상청 |
| 127      | 충주       | 청주기상지청   | 253      | 김해시     | 부산지방기상청 |
| 129      | 서산       | 홍성기상대     | 254      | 순창군     | 전주기상지청   |
| 130      | 울진       | 안동기상대     | 255      | 북창원     | 창원기상대     |
| 131      | 청주       | 청주기상지청   | 257      | 양산시     | 울산기상대     |
| 133      | 대전       | 대전지방기상청 | 258      | 보성군     | 광주지방기상청 |
| 135      | 추풍령     | 청주기상지청   | 259      | 강진군     | 목포기상대     |
| 136      | 안동       | 안동기상대     | 260      | 장흥       | 목포기상대     |
| 137      | 상주       | 대구지방기상청 | 261      | 해남       | 목포기상대     |
| 138      | 포항       | 대구지방기상청 | 262      | 고흥       | 광주지방기상청 |
| 140      | 군산       | 전주기상지청   | 263      | 의령군     | 창원기상대     |
| 143      | 대구       | 대구지방기상청 | 264      | 함양군     | 창원기상대     |
| 146      | 전주       | 전주기상지청   | 266      | 광양시     | 광주지방기상청 |
| 152      | 울산       | 울산기상대     | 268      | 진도군     | 목포기상대     |
| 155      | 창원       | 창원기상대     | 271      | 봉화       | 대구지방기상청 |
| 156      | 광주       | 광주지방기상청 | 272      | 영주       | 안동기상대     |
| 159      | 부산       | 부산지방기상청 | 273      | 문경       | 안동기상대     |
| 162      | 통영       | 부산지방기상청 | 276      | 청송군     | 대구지방기상청 |
| 165      | 목포       | 목포기상대     | 277      | 영덕       | 대구지방기상청 |
| 168      | 여수       | 광주지방기상청 | 278      | 의성       | 대구지방기상청 |
| 169      | 흑산도     | 광주지방기상청 | 279      | 구미       | 대구지방기상청 |
| 170      | 완도       | 목포기상대     | 281      | 영천       | 대구지방기상청 |
| 172      | 고창       | 전주기상지청   | 283      | 경주시     | 대구지방기상청 |
| 174      | 순천       | 광주지방기상청 | 284      | 거창       | 울산기상대     |
| 177      | 홍성       | 홍성기상대     | 285      | 합천       | 울산기상대     |
| 184      | 제주       | 제주지방기상청 | 288      | 밀양       | 울산기상대     |
| 185      | 고산       | 제주지방기상청 | 289      | 산청       | 창원기상대     |
| 188      | 성산       | 제주지방기상청 | 294      | 거제       | 부산지방기상청 |
| 189      | 서귀포     | 제주지방기상청 | 295      | 남해       | 부산지방기상청 |